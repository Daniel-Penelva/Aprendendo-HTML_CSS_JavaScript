<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Cookie</h1>

    <!-- Exemplo 2 -->
    <input type="text" id="nome" placeholder="Digite seu nome" />
    <button onclick="salvarCookie()">Salvar Cookie</button>
    <button onclick="mostrarCookie()">Mostrar Cookie</button>

    <p id="resultado"></p>

    <script>
      // Exemplo 1
      // Criar um cookie
      document.cookie =
        "username=JohnDoe; expires=Fri, 31 Dec 2024 23:59:59 GMT; path=/";

      // Ler cookies
      console.log("Cookies atuais:", document.cookie);

      // Função para obter o valor de um cookie específico
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(";").shift();
      }

      // Exemplo de uso da função getCookie
      const username = getCookie("username");
      console.log("Valor do cookie 'username':", username);

      // ============================================================================================

      // Exemplo 2

      function salvarCookie() {
        const nome = document.getElementById("nome").value;

        // Cria o cookie com validade de 7 dias
        const dias = 7;
        const dataExpiracao = new Date();
        dataExpiracao.setDate(dataExpiracao.getDate() + dias);

        document.cookie = `usuario=${nome}; expires=${dataExpiracao.toUTCString()}; path=/`;

        alert("Cookie salvo com sucesso!");
      }

      function mostrarCookie() {
        const cookies = document.cookie; // Retorna uma string com todos os cookies
        document.getElementById("resultado").textContent =
          cookies || "Nenhum cookie encontrado.";
      }

      /*
        Observações:
        document.cookie → acessa os cookies do site.
        Exemplo: "usuario=Daniel; tema=claro"
        expires → define a data de validade do cookie.
        path=/ → torna o cookie disponível para todas as páginas do domínio.
      */

      // ============================================================================================

      // Exemplo 3 - Lendo um cookie específico

      function lerCookie(nome) {
        const valor = `; ${document.cookie}`;
        const partes = valor.split(`; ${nome}=`);
        if (partes.length === 2) return partes.pop().split(";").shift();
      }

      console.log(lerCookie("usuario"));

    </script>
  </body>
</html>
